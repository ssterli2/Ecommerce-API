<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Order</title>
</head>
<body>
    <a href='@Url.Action("Index", "Ecommerce")'>Dashboard</a>
     <a href='@Url.Action("Products", "Ecommerce", new { page = 1 })'>Products</a>
    <a href='@Url.Action("Orders", "Ecommerce")'>Orders</a>
    <a href='@Url.Action("Customers", "Ecommerce")'>Customers</a>
    <a href='@Url.Action("Logout", "Account")'>Logoff</a>
  <h1>Add a new order</h1>
  <p>@ViewBag.errors</p>
  <form action="@Url.Action("MakeOrder")" method='POST'>
       <p>Customer:</p>
        <select name="Customer">
            @foreach (var user in @ViewBag.Users)
            {
                <option value="@user.Id">@user.FirstName @user.LastName</option>
            }
        </select>
        <p>Product:</p>
        <select name="Product">
            @foreach (var prod in @ViewBag.Products)
            {
                <option value="@prod.ProductId">@prod.Name</option>
            }
        </select>
        Quantity: <input type='number' name='Quantity'>
    <input type="submit" value="Order">
  </form>
    <form action="@Url.Action("Filter")" method='GET'>
        <p>Filter By:</p>
        <select name="Filter">
            <option value="o.User.LastName">Customer Name</option>
            <option value="o.Product.Name">Product Name</option>
            <option value="o.CreatedAt">Date</option>
        </select>
    <input type="submit" value="Filter">
  </form>
  <table>
    <tr>
        <th>Customer Name</th>
        <th>Product</th>
        <th>Quantity</th>
        <th>Date</th>
    </tr>
    @foreach (var order in @ViewBag.Orders)
    {
        <tr>
            <td>@order.User.FirstName @order.User.LastName</td>
            <td>@order.Product.Name</td>
            <td>@order.Quantity</td>
            <td>@order.CreatedAt</td>
        </tr> 
    }
  </table>
</body>
</html>